parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"PhdE":[function(require,module,exports) {
var define;
var e;!function(n){var t;if("function"==typeof e&&e.amd&&(e(n),t=!0),"object"==typeof exports&&(module.exports=n(),t=!0),!t){var o=window.Cookies,r=window.Cookies=n();r.noConflict=function(){return window.Cookies=o,r}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var o in t)n[o]=t[o]}return n}function n(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(o){function r(){}function i(n,t,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},r.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(t);/^[\{\[]/.test(c)&&(t=c)}catch(a){}t=o.write?o.write(t,n):encodeURIComponent(String(t)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var f="";for(var u in i)i[u]&&(f+="; "+u,!0!==i[u]&&(f+="="+i[u].split(";")[0]));return document.cookie=n+"="+t+f}}function c(e,t){if("undefined"!=typeof document){for(var r={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var f=i[c].split("="),u=f.slice(1).join("=");t||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var a=n(f[0]);if(u=(o.read||o)(u,a)||n(u),t)try{u=JSON.parse(u)}catch(p){}if(r[a]=u,e===a)break}catch(p){}}return e?r[e]:r}}return r.set=i,r.get=function(e){return c(e,!1)},r.getJSON=function(e){return c(e,!0)},r.remove=function(n,t){i(n,"",e(t,{expires:-1}))},r.defaults={},r.withConverter=t,r}(function(){})});
},{}],"d6DC":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var o={};if(null!=r)for(var n in r)"default"!==n&&Object.prototype.hasOwnProperty.call(r,n)&&e(o,r,n);return t(o,r),o};Object.defineProperty(exports,"__esModule",{value:!0}),exports.sessionIdentifier=exports.setSessionIdentifier=exports.postData=exports.fetchPage=exports.tunnelImage=exports.DOMAIN_ROOT=void 0;const o=r(require("js-cookie"));exports.DOMAIN_ROOT="https://train.nzoi.org.nz";const n="https://technocoder-cors-bypass.herokuapp.com/",s="session_secret";async function i(e){let t=await fetch(n+e.src,l());if(!t.ok)throw Error(t.statusText);e.src=URL.createObjectURL(t.blob())}async function a(e){let t=await fetch(n+e,l());if(!t.ok)throw Error(t.statusText);let r=new DOMParser,o=await t.text();return r.parseFromString(o,"text/html")}async function c(e,t){let r=l();r.method="POST",r.body=t;let o=await fetch(n+e,r);if(!o.ok)throw Error(o.statusText)}function u(e){if(0==e.trim().length)return o.remove(s);o.set(s,e)}function f(){return o.get(s)}function l(){let e={},t=f();return null==t?e:(e.credentials="include",e.headers={"Forward-Cookie":"_session_id=".concat(t)},e)}exports.tunnelImage=i,exports.fetchPage=a,exports.postData=c,exports.setSessionIdentifier=u,exports.sessionIdentifier=f;
},{"js-cookie":"PhdE"}],"KnVk":[function(require,module,exports) {
"use strict";function e(e){return e.parentNode.removeChild(e)}function t(e){return e.content.cloneNode(!0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.template=exports.detach=void 0,exports.detach=e,exports.template=t;
},{}],"M1ol":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function t(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on".concat(t),function(){n(window.event)})}function n(e,t){for(var n=t.slice(0,t.length-1),o=0;o<n.length;o++)n[o]=e[n[o].toLowerCase()];return n}function o(e){"string"!=typeof e&&(e="");for(var t=(e=e.replace(/\s/g,"")).split(","),n=t.lastIndexOf("");n>=0;)t[n-1]+=",",t.splice(n,1),n=t.lastIndexOf("");return t}function r(e,t){for(var n=e.length>=t.length?e:t,o=e.length>=t.length?t:e,r=!0,i=0;i<n.length;i++)-1===o.indexOf(n[i])&&(r=!1);return r}for(var i={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"⇪":20,",":188,".":190,"/":191,"`":192,"-":e?173:189,"=":e?61:187,";":e?59:186,"'":222,"[":219,"]":221,"\\":220},a={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},f={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},c={16:!1,18:!1,17:!1,91:!1},l={},s=1;s<20;s++)i["f".concat(s)]=111+s;var p=[],y="all",d=[],u=function(e){return i[e.toLowerCase()]||a[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)};function h(e){y=e||"all"}function v(){return y||"all"}function g(){return p.slice(0)}function w(e){var t=e.target||e.srcElement,n=t.tagName,o=!0;return!t.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||t.readOnly)||(o=!1),o}function k(e){return"string"==typeof e&&(e=u(e)),-1!==p.indexOf(e)}function O(e,t){var n,o;for(var r in e||(e=v()),l)if(Object.prototype.hasOwnProperty.call(l,r))for(n=l[r],o=0;o<n.length;)n[o].scope===e?n.splice(o,1):o++;v()===e&&h(t||"all")}function m(e){var t=e.keyCode||e.which||e.charCode,n=p.indexOf(t);if(n>=0&&p.splice(n,1),e.key&&"meta"===e.key.toLowerCase()&&p.splice(0,p.length),93!==t&&224!==t||(t=91),t in c)for(var o in c[t]=!1,a)a[o]===t&&(j[o]=!1)}function K(e){if(e){if(Array.isArray(e))e.forEach(function(e){e.key&&x(e)});else if("object"==typeof e)e.key&&x(e);else if("string"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r=n[0],i=n[1];"function"==typeof r&&(i=r,r=""),x({key:e,scope:r,method:i,splitKey:"+"})}}else Object.keys(l).forEach(function(e){return delete l[e]})}var x=function(e){var t=e.key,i=e.scope,f=e.method,c=e.splitKey,s=void 0===c?"+":c;o(t).forEach(function(e){var t=e.split(s),o=t.length,c=t[o-1],p="*"===c?"*":u(c);if(l[p]){i||(i=v());var y=o>1?n(a,t):[];l[p]=l[p].map(function(e){return(!f||e.method===f)&&e.scope===i&&r(e.mods,y)?{}:e})}})};function b(e,t,n){var o;if(t.scope===n||"all"===t.scope){for(var r in o=t.mods.length>0,c)Object.prototype.hasOwnProperty.call(c,r)&&(!c[r]&&t.mods.indexOf(+r)>-1||c[r]&&-1===t.mods.indexOf(+r))&&(o=!1);(0!==t.mods.length||c[16]||c[18]||c[17]||c[91])&&!o&&"*"!==t.shortcut||!1===t.method(e,t)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function C(e){var t=l["*"],n=e.keyCode||e.which||e.charCode;if(j.filter.call(this,e)){if(93!==n&&224!==n||(n=91),-1===p.indexOf(n)&&229!==n&&p.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(t){var n=f[t];e[t]&&-1===p.indexOf(n)?p.push(n):!e[t]&&p.indexOf(n)>-1?p.splice(p.indexOf(n),1):"metaKey"===t&&e[t]&&3===p.length&&(e.ctrlKey||e.shiftKey||e.altKey||(p=p.slice(p.indexOf(n))))}),n in c){for(var o in c[n]=!0,a)a[o]===n&&(j[o]=!0);if(!t)return}for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&(c[r]=e[f[r]]);e.getModifierState&&(!e.altKey||e.ctrlKey)&&e.getModifierState("AltGraph")&&(-1===p.indexOf(17)&&p.push(17),-1===p.indexOf(18)&&p.push(18),c[17]=!0,c[18]=!0);var i=v();if(t)for(var s=0;s<t.length;s++)t[s].scope===i&&("keydown"===e.type&&t[s].keydown||"keyup"===e.type&&t[s].keyup)&&b(e,t[s],i);if(n in l)for(var y=0;y<l[n].length;y++)if(("keydown"===e.type&&l[n][y].keydown||"keyup"===e.type&&l[n][y].keyup)&&l[n][y].key){for(var d=l[n][y],h=d.splitKey,g=d.key.split(h),w=[],k=0;k<g.length;k++)w.push(u(g[k]));w.sort().join("")===p.sort().join("")&&b(e,d,i)}}}function E(e){return d.indexOf(e)>-1}function j(e,r,i){p=[];var f=o(e),c=[],s="all",y=document,h=0,v=!1,g=!0,w="+";for(void 0===i&&"function"==typeof r&&(i=r),"[object Object]"===Object.prototype.toString.call(r)&&(r.scope&&(s=r.scope),r.element&&(y=r.element),r.keyup&&(v=r.keyup),void 0!==r.keydown&&(g=r.keydown),"string"==typeof r.splitKey&&(w=r.splitKey)),"string"==typeof r&&(s=r);h<f.length;h++)c=[],(e=f[h].split(w)).length>1&&(c=n(a,e)),(e="*"===(e=e[e.length-1])?"*":u(e))in l||(l[e]=[]),l[e].push({keyup:v,keydown:g,scope:s,mods:c,shortcut:f[h],method:i,key:f[h],splitKey:w});void 0!==y&&!E(y)&&window&&(d.push(y),t(y,"keydown",function(e){C(e)}),t(window,"focus",function(){p=[]}),t(y,"keyup",function(e){C(e),m(e)}))}var P={setScope:h,getScope:v,deleteScope:O,getPressedKeyCodes:g,isPressed:k,filter:w,unbind:K};for(var A in P)Object.prototype.hasOwnProperty.call(P,A)&&(j[A]=P[A]);if("undefined"!=typeof window){var L=window.hotkeys;j.noConflict=function(e){return e&&window.hotkeys===j&&(window.hotkeys=L),j},window.hotkeys=j}var S=j;exports.default=S;
},{}],"l4CG":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.menuButton=void 0;const t=e(require("hotkeys-js"));function n(){let e=document.createElement("div");return e.innerHTML="Press <b>/</b> for help",e.classList.add("border","hover:border-gray-800"),e.classList.add("card","text-center"),document.body.append(a()),e.onclick=d,e}function d(){let e=document.getElementById("menu");e.hidden=!e.hidden}function a(){let e=document.createElement("div");e.classList.add("card-heading"),e.textContent="Menu";let t=document.createElement("div");t.classList.add("modal"),t.hidden=!0,t.id="menu",t.append(e),o(t);let n=document.createElement("div");return n.classList.add("modal-container"),n.append(t),n}function o(e){e.append(c("Open Problem",()=>window.location.href="/index.html","O")),e.append(c("Authenticate",()=>window.location.href="/authenticate.html")),e.append(c("Clear caches",()=>localStorage.clear())),e.append(c("Help",d,"/"))}function c(e,n,a){let o=document.createElement("div");return o.classList.add("item"),null!=a&&(t.default(a,()=>n()),o.innerHTML="<b>".concat(a,"</b> - ")),o.innerHTML+=e,o.onclick=(()=>{d(),n()}),o}exports.menuButton=n;
},{"hotkeys-js":"M1ol"}],"n0rQ":[function(require,module,exports) {
"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,s)}return n}function e(e){for(var s=1;s<arguments.length;s++){var r=null!=arguments[s]?arguments[s]:{};s%2?t(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return Array.isArray?Array.isArray(t):"[object Array]"===f(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const r=1/0;function i(t){if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-r?"-0":e}function c(t){return null==t?"":i(t)}function o(t){return"string"==typeof t}function h(t){return"number"==typeof t}function a(t){return!0===t||!1===t||u(t)&&"[object Boolean]"==f(t)}function l(t){return"object"==typeof t}function u(t){return l(t)&&null!==t}function d(t){return null!=t}function g(t){return!t.trim().length}function f(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const p="Extended search is not available",y="Incorrect 'index' type",M=t=>"Invalid value for key ".concat(t),m=t=>"Pattern length exceeds max of ".concat(t,"."),x=t=>"Missing ".concat(t," property in key"),v=t=>"Property 'weight' in key '".concat(t,"' must be a positive integer"),L=Object.prototype.hasOwnProperty;class b{constructor(t){this._keys=[],this._keyMap={};let e=0;t.forEach(t=>{let n=k(t);e+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,e+=n.weight}),this._keys.forEach(t=>{t.weight/=e})}get(t){return this._keyMap[t]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function k(t){let e=null,n=null,r=null,i=1;if(o(t)||s(t))r=t,e=_(t),n=w(t);else{if(!L.call(t,"name"))throw new Error(x("name"));const s=t.name;if(r=s,L.call(t,"weight")&&(i=t.weight)<=0)throw new Error(v(s));e=_(s),n=w(s)}return{path:e,id:n,weight:i,src:r}}function _(t){return s(t)?t:t.split(".")}function w(t){return s(t)?t.join("."):t}function S(t,e){let n=[],r=!1;const i=(t,e,l)=>{if(d(t))if(e[l]){const u=t[e[l]];if(!d(u))return;if(l===e.length-1&&(o(u)||h(u)||a(u)))n.push(c(u));else if(s(u)){r=!0;for(let t=0,n=u.length;t<n;t+=1)i(u[t],e,l+1)}else e.length&&i(u,e,l+1)}else n.push(t)};return i(t,o(e)?e.split("."):e,0),r?n:n[0]}const A={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},O={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},C={location:0,threshold:.6,distance:100},I={useExtendedSearch:!1,getFn:S,ignoreLocation:!1,ignoreFieldNorm:!1};var E=e(e(e(e({},O),A),C),I);const $=/[^ ]+/g;function j(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;const e=new Map,n=Math.pow(10,t);return{get(t){const s=t.match($).length;if(e.has(s))return e.get(s);const r=1/Math.sqrt(s),i=parseFloat(Math.round(r*n)/n);return e.set(s,i),i},clear(){e.clear()}}}class R{constructor(){let{getFn:t=E.getFn}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.norm=j(3),this.getFn=t,this.isCreated=!1,this.setIndexRecords()}setSources(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=t}setIndexRecords(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=t}setKeys(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((t,e)=>{this._keysMap[t.id]=e})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,o(this.docs[0])?this.docs.forEach((t,e)=>{this._addString(t,e)}):this.docs.forEach((t,e)=>{this._addObject(t,e)}),this.norm.clear())}add(t){const e=this.size();o(t)?this._addString(t,e):this._addObject(t,e)}removeAt(t){this.records.splice(t,1);for(let e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}getValueForItemAtKeyId(t,e){return t[this._keysMap[e]]}size(){return this.records.length}_addString(t,e){if(!d(t)||g(t))return;let n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}_addObject(t,e){let n={i:e,$:{}};this.keys.forEach((e,r)=>{let i=this.getFn(t,e.path);if(d(i))if(s(i)){let t=[];const e=[{nestedArrIndex:-1,value:i}];for(;e.length;){const{nestedArrIndex:n,value:r}=e.pop();if(d(r))if(o(r)&&!g(r)){let e={v:r,i:n,n:this.norm.get(r)};t.push(e)}else s(r)&&r.forEach((t,n)=>{e.push({nestedArrIndex:n,value:t})})}n.$[r]=t}else if(!g(i)){let t={v:i,n:this.norm.get(i)};n.$[r]=t}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function F(t,e){let{getFn:n=E.getFn}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new R({getFn:n});return s.setKeys(t.map(k)),s.setSources(e),s.create(),s}function P(t){let{getFn:e=E.getFn}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{keys:n,records:s}=t,r=new R({getFn:e});return r.setKeys(n),r.setIndexRecords(s),r}function N(t){let{errors:e=0,currentLocation:n=0,expectedLocation:s=0,distance:r=E.distance,ignoreLocation:i=E.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e/t.length;if(i)return c;const o=Math.abs(s-n);return r?c+o/r:o?1:c}function D(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.minMatchCharLength,n=[],s=-1,r=-1,i=0;for(let c=t.length;i<c;i+=1){let c=t[i];c&&-1===s?s=i:c||-1===s||((r=i-1)-s+1>=e&&n.push([s,r]),s=-1)}return t[i-1]&&i-s>=e&&n.push([s,i-1]),n}const T=32;function z(t,e,n){let{location:s=E.location,distance:r=E.distance,threshold:i=E.threshold,findAllMatches:c=E.findAllMatches,minMatchCharLength:o=E.minMatchCharLength,includeMatches:h=E.includeMatches,ignoreLocation:a=E.ignoreLocation}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e.length>T)throw new Error(m(T));const l=e.length,u=t.length,d=Math.max(0,Math.min(s,u));let g=i,f=d;const p=o>1||h,y=p?Array(u):[];let M;for(;(M=t.indexOf(e,f))>-1;){let t=N(e,{currentLocation:M,expectedLocation:d,distance:r,ignoreLocation:a});if(g=Math.min(t,g),f=M+l,p){let t=0;for(;t<l;)y[M+t]=1,t+=1}}f=-1;let x=[],v=1,L=l+u;const b=1<<l-1;for(let m=0;m<l;m+=1){let s=0,i=L;for(;s<i;){N(e,{errors:m,currentLocation:d+i,expectedLocation:d,distance:r,ignoreLocation:a})<=g?s=i:L=i,i=Math.floor((L-s)/2+s)}L=i;let o=Math.max(1,d-i+1),h=c?u:Math.min(d+i,u)+l,M=Array(h+2);M[h+1]=(1<<m)-1;for(let c=h;c>=o;c-=1){let s=c-1,i=n[t.charAt(s)];if(p&&(y[s]=+!!i),M[c]=(M[c+1]<<1|1)&i,m&&(M[c]|=(x[c+1]|x[c])<<1|1|x[c+1]),M[c]&b&&(v=N(e,{errors:m,currentLocation:s,expectedLocation:d,distance:r,ignoreLocation:a}))<=g){if(g=v,(f=s)<=d)break;o=Math.max(1,2*d-f)}}if(N(e,{errors:m+1,currentLocation:d,expectedLocation:d,distance:r,ignoreLocation:a})>g)break;x=M}const k={isMatch:f>=0,score:Math.max(.001,v)};if(p){const t=D(y,o);t.length?h&&(k.indices=t):k.isMatch=!1}return k}function K(t){let e={};for(let n=0,s=t.length;n<s;n+=1){const r=t.charAt(n);e[r]=(e[r]||0)|1<<s-n-1}return e}class q{constructor(t){let{location:e=E.location,threshold:n=E.threshold,distance:s=E.distance,includeMatches:r=E.includeMatches,findAllMatches:i=E.findAllMatches,minMatchCharLength:c=E.minMatchCharLength,isCaseSensitive:o=E.isCaseSensitive,ignoreLocation:h=E.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options={location:e,threshold:n,distance:s,includeMatches:r,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:o,ignoreLocation:h},this.pattern=o?t:t.toLowerCase(),this.chunks=[],!this.pattern.length)return;const a=(t,e)=>{this.chunks.push({pattern:t,alphabet:K(t),startIndex:e})},l=this.pattern.length;if(l>T){let t=0;const e=l%T,n=l-e;for(;t<n;)a(this.pattern.substr(t,T),t),t+=T;if(e){const t=l-T;a(this.pattern.substr(t),t)}}else a(this.pattern,0)}searchIn(t){const{isCaseSensitive:e,includeMatches:n}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return n&&(e.indices=[[0,t.length-1]]),e}const{location:s,distance:r,threshold:i,findAllMatches:c,minMatchCharLength:o,ignoreLocation:h}=this.options;let a=[],l=0,u=!1;this.chunks.forEach(e=>{let{pattern:d,alphabet:g,startIndex:f}=e;const{isMatch:p,score:y,indices:M}=z(t,d,g,{location:s+f,distance:r,threshold:i,findAllMatches:c,minMatchCharLength:o,includeMatches:n,ignoreLocation:h});p&&(u=!0),l+=y,p&&M&&(a=[...a,...M])});let d={isMatch:u,score:u?l/this.chunks.length:1};return u&&n&&(d.indices=a),d}}class W{constructor(t){this.pattern=t}static isMultiMatch(t){return H(t,this.multiRegex)}static isSingleMatch(t){return H(t,this.singleRegex)}search(){}}function H(t,e){const n=t.match(e);return n?n[1]:null}class J extends W{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(t){const e=t===this.pattern;return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class V extends W{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class B extends W{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,this.pattern.length-1]}}}class Q extends W{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class U extends W{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[t.length-this.pattern.length,t.length-1]}}}class G extends W{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,indices:[0,t.length-1]}}}class X extends W{constructor(t){let{location:e=E.location,threshold:n=E.threshold,distance:s=E.distance,includeMatches:r=E.includeMatches,findAllMatches:i=E.findAllMatches,minMatchCharLength:c=E.minMatchCharLength,isCaseSensitive:o=E.isCaseSensitive,ignoreLocation:h=E.ignoreLocation}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this._bitapSearch=new q(t,{location:e,threshold:n,distance:s,includeMatches:r,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:o,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchIn(t)}}class Y extends W{constructor(t){super(t)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,n=0;const s=[],r=this.pattern.length;for(;(e=t.indexOf(this.pattern,n))>-1;)n=e+r,s.push([e,n-1]);const i=!!s.length;return{isMatch:i,score:i?0:1,indices:s}}}const Z=[J,Y,B,Q,G,U,V,X],tt=Z.length,et=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,nt="|";function st(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.split(nt).map(t=>{let n=t.trim().split(et).filter(t=>t&&!!t.trim()),s=[];for(let r=0,i=n.length;r<i;r+=1){const t=n[r];let i=!1,c=-1;for(;!i&&++c<tt;){const n=Z[c];let r=n.isMultiMatch(t);r&&(s.push(new n(r,e)),i=!0)}if(!i)for(c=-1;++c<tt;){const n=Z[c];let r=n.isSingleMatch(t);if(r){s.push(new n(r,e));break}}}return s})}const rt=new Set([X.type,Y.type]);class it{constructor(t){let{isCaseSensitive:e=E.isCaseSensitive,includeMatches:n=E.includeMatches,minMatchCharLength:s=E.minMatchCharLength,ignoreLocation:r=E.ignoreLocation,findAllMatches:i=E.findAllMatches,location:c=E.location,threshold:o=E.threshold,distance:h=E.distance}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.query=null,this.options={isCaseSensitive:e,includeMatches:n,minMatchCharLength:s,findAllMatches:i,ignoreLocation:r,location:c,threshold:o,distance:h},this.pattern=e?t:t.toLowerCase(),this.query=st(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:s}=this.options;t=s?t:t.toLowerCase();let r=0,i=[],c=0;for(let o=0,h=e.length;o<h;o+=1){const s=e[o];i.length=0,r=0;for(let e=0,o=s.length;e<o;e+=1){const o=s[e],{isMatch:h,indices:a,score:l}=o.search(t);if(!h){c=0,r=0,i.length=0;break}if(r+=1,c+=l,n){const t=o.constructor.type;rt.has(t)?i=[...i,...a]:i.push(a)}}if(r){let t={isMatch:!0,score:c/r};return n&&(t.indices=i),t}}return{isMatch:!1,score:1}}}const ct=[];function ot(){ct.push(...arguments)}function ht(t,e){for(let n=0,s=ct.length;n<s;n+=1){let s=ct[n];if(s.condition(t,e))return new s(t,e)}return new q(t,e)}const at={AND:"$and",OR:"$or"},lt={PATH:"$path",PATTERN:"$val"},ut=t=>!(!t[at.AND]&&!t[at.OR]),dt=t=>!!t[lt.PATH],gt=t=>!s(t)&&l(t)&&!ut(t),ft=t=>({[at.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function pt(t,e){let{auto:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t=>{let i=Object.keys(t);const c=dt(t);if(!c&&i.length>1&&!ut(t))return r(ft(t));if(gt(t)){const s=c?t[lt.PATH]:i[0],r=c?t[lt.PATTERN]:t[s];if(!o(r))throw new Error(M(s));const h={keyId:w(s),pattern:r};return n&&(h.searcher=ht(r,e)),h}let h={children:[],operator:i[0]};return i.forEach(e=>{const n=t[e];s(n)&&n.forEach(t=>{h.children.push(r(t))})}),h};return ut(t)||(t=ft(t)),r(t)}function yt(t,e){let{ignoreFieldNorm:n=E.ignoreFieldNorm}=e;t.forEach(t=>{let e=1;t.matches.forEach(t=>{let{key:s,norm:r,score:i}=t;const c=s?s.weight:null;e*=Math.pow(0===i&&c?Number.EPSILON:i,(c||1)*(n?1:r))}),t.score=e})}function Mt(t,e){const n=t.matches;e.matches=[],d(n)&&n.forEach(t=>{if(!d(t.indices)||!t.indices.length)return;const{indices:n,value:s}=t;let r={indices:n,value:s};t.key&&(r.key=t.key.src),t.idx>-1&&(r.refIndex=t.idx),e.matches.push(r)})}function mt(t,e){e.score=t.score}function xt(t,e){let{includeMatches:n=E.includeMatches,includeScore:s=E.includeScore}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[];return n&&r.push(Mt),s&&r.push(mt),t.map(t=>{const{idx:n}=t,s={item:e[n],refIndex:n};return r.length&&r.forEach(e=>{e(t,s)}),s})}class vt{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0;this.options=e(e({},E),n),this.options.useExtendedSearch,this._keyStore=new b(this.options.keys),this.setCollection(t,s)}setCollection(t,e){if(this._docs=t,e&&!(e instanceof R))throw new Error(y);this._myIndex=e||F(this.options.keys,this._docs,{getFn:this.options.getFn})}add(t){d(t)&&(this._docs.push(t),this._myIndex.add(t))}remove(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>!1;const e=[];for(let n=0,s=this._docs.length;n<s;n+=1){const r=this._docs[n];t(r,n)&&(this.removeAt(n),n-=1,s-=1,e.push(r))}return e}removeAt(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}getIndex(){return this._myIndex}search(t){let{limit:e=-1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{includeMatches:n,includeScore:s,shouldSort:r,sortFn:i,ignoreFieldNorm:c}=this.options;let a=o(t)?o(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return yt(a,{ignoreFieldNorm:c}),r&&a.sort(i),h(e)&&e>-1&&(a=a.slice(0,e)),xt(a,this._docs,{includeMatches:n,includeScore:s})}_searchStringList(t){const e=ht(t,this.options),{records:n}=this._myIndex,s=[];return n.forEach(t=>{let{v:n,i:r,n:i}=t;if(!d(n))return;const{isMatch:c,score:o,indices:h}=e.searchIn(n);c&&s.push({item:n,idx:r,matches:[{score:o,value:n,norm:i,indices:h}]})}),s}_searchLogical(t){const e=pt(t,this.options),n=(t,e,s)=>{if(!t.children){const{keyId:n,searcher:r}=t,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(e,n),searcher:r});return i&&i.length?[{idx:s,item:e,matches:i}]:[]}switch(t.operator){case at.AND:{const r=[];for(let i=0,c=t.children.length;i<c;i+=1){const c=t.children[i],o=n(c,e,s);if(!o.length)return[];r.push(...o)}return r}case at.OR:{const r=[];for(let i=0,c=t.children.length;i<c;i+=1){const c=t.children[i],o=n(c,e,s);if(o.length){r.push(...o);break}}return r}}},s=this._myIndex.records,r={},i=[];return s.forEach(t=>{let{$:s,i:c}=t;if(d(s)){let t=n(e,s,c);t.length&&(r[c]||(r[c]={idx:c,item:s,matches:[]},i.push(r[c])),t.forEach(t=>{let{matches:e}=t;r[c].matches.push(...e)}))}}),i}_searchObjectList(t){const e=ht(t,this.options),{keys:n,records:s}=this._myIndex,r=[];return s.forEach(t=>{let{$:s,i:i}=t;if(!d(s))return;let c=[];n.forEach((t,n)=>{c.push(...this._findMatches({key:t,value:s[n],searcher:e}))}),c.length&&r.push({idx:i,item:s,matches:c})}),r}_findMatches(t){let{key:e,value:n,searcher:r}=t;if(!d(n))return[];let i=[];if(s(n))n.forEach(t=>{let{v:n,i:s,n:c}=t;if(!d(n))return;const{isMatch:o,score:h,indices:a}=r.searchIn(n);o&&i.push({score:h,key:e,value:n,idx:s,norm:c,indices:a})});else{const{v:t,n:s}=n,{isMatch:c,score:o,indices:h}=r.searchIn(t);c&&i.push({score:o,key:e,value:t,norm:s,indices:h})}return i}}vt.version="6.4.6",vt.createIndex=F,vt.parseIndex=P,vt.config=E,vt.parseQuery=pt,ot(it);var Lt=vt;exports.default=Lt;
},{}],"fUdq":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("./tunnel"),n=require("./other"),l=require("./menu"),r=e(require("fuse.js"));class i{}let o=document.getElementById("groups"),a=document.getElementById("search"),c=document.getElementById("problems"),d=new r.default([],{keys:["link","name"],minMatchCharLength:3,threshold:.1}),s=new r.default([],{minMatchCharLength:3,threshold:.1,keys:["item.link","item.name","group.name","set"]});async function m(){let e=(await t.fetchPage(t.DOMAIN_ROOT)).getElementById("main-container").firstElementChild,n={name:"Public Problems",link:"https://train.nzoi.org.nz/groups/0"};if(y(n,E(e.lastElementChild.lastElementChild,n)),f(n).catch(console.error),2==e.children.length)u(e.firstElementChild);else{(null!=t.sessionIdentifier()?document.getElementById("invalid-session-alert"):document.getElementById("no-session-alert")).hidden=!1}document.getElementById("content-end").append(l.menuButton())}function u(e){let n=e.firstElementChild.nextElementSibling;for(;null!=n;){let e=n.querySelector("a");f({link:t.DOMAIN_ROOT+e.getAttribute("href"),name:e.textContent}).catch(console.error),n=n.nextElementSibling}}function h(e){let t=n.template(document.getElementById("group")),l=t.querySelector("#group-select");return l.onclick=(()=>{O(e.name),g(e,!0).catch(console.error)}),l.id=e.link,l.textContent=e.name,t}async function f(e){o.append(h(e)),await g(e,!1),d.add(e),S()}async function g(e,t){let n=document.getElementById(e.link);n.classList.add("animate-pulse"),(null==localStorage.getItem(e.link)||t)&&await p(e);let l=JSON.parse(localStorage.getItem(e.link));s.remove(t=>t.group.link==e.link),l.forEach(e=>s.add(e)),n.classList.remove("animate-pulse"),b()}function y(e,t){localStorage.setItem(e.link,JSON.stringify(t))}async function p(e){y(e,E((await t.fetchPage(e.link)).querySelector(".main_table"),e))}function E(e,n){let l=e.querySelector("tbody").querySelectorAll(".subheading");return Array.from(l,e=>{let l=e.firstElementChild.firstChild.textContent,r=e.nextElementSibling.querySelector("tbody");return Array.from(r.children,e=>{let r=e.querySelector("a");return{item:{link:t.DOMAIN_ROOT+r.getAttribute("href"),name:r.textContent,score:e.children[1].firstElementChild.lastChild.textContent},set:l,group:n}})}).flat()}function k(e){return 0!=a.value.length?e.search(a.value).map(e=>e.item):e._docs}function I(){S(),b()}function S(){let e=k(d);o.parentElement.hidden=0===e.length;for(let t of o.children)t.classList.add("hidden");e.forEach(e=>{document.getElementById(e.link).classList.remove("hidden")})}function b(){let e=new Set,n=k(s).map(e=>e.item);c.innerHTML="";let l=a.value;l.startsWith(t.DOMAIN_ROOT+"/problems")&&C({name:l,link:l}),n.forEach(t=>{e.has(t.link)||(e.add(t.link),C(t))}),c.parentElement.hidden=""==c.innerHTML}function C(e){let t=n.template(document.getElementById("problem"));t.querySelector("#problem-name").textContent=e.name,t.querySelector("#problem-link").href="render.html?link=".concat(e.link),t.querySelector("#problem-score").textContent=(e.score||"").toString(),c.append(t)}function O(e){a.value=e,I()}a.oninput=I,m().finally(()=>{document.getElementById("loader").classList.add("hidden")});
},{"./tunnel":"d6DC","./other":"KnVk","./menu":"l4CG","fuse.js":"n0rQ"}]},{},["fUdq"], null)
//# sourceMappingURL=src.b726814a.js.map